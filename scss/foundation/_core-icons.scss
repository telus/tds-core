@font-face {
  font-family: "TELUS Core Icons";
  src: url("#{$icon-font-prefix}/core-icons.eot");

  src: url("#{$icon-font-prefix}/core-icons.eot?#iefix") format("embedded-opentype"),
  url("#{$icon-font-prefix}/core-icons.woff") format("woff"),
  url("#{$icon-font-prefix}/core-icons.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

$core-icon-codepoints: (
  alert: "\f103",
  caret-down: "\f105",
  caret-up: "\f106",
  checkmark: "\f101",
  chevron: "\f107",
  close: "\f104",
  dash: "\f109",
  expander: "\f113",
  hamburger: "\f112",
  help: "\f102",
  incomplete: "\f104",
  location: "\f110",
  plus: "\f107",
  spyglass: "\f111"
);

@function core-icon-codepoint($name) {
  @return map-get($core-icon-codepoints, $name);
}

@mixin core-icon($name: null) {
  @if $name {
    &::before {
      content: core-icon-codepoint($name);
    }
  }
  font-family: "TELUS Core Icons";
  display: inline-block;
  font-weight: normal;
  font-style: normal;
  speak: none;
  text-decoration: inherit;
  text-transform: none;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.icon {
  @include core-icon;

  color: $color-icon-primary;
  transition: color .1s linear;

  &:hover {
    color: $color-icon-primary-hover
  }

  &--secondary {
    color: $color-icon-secondary;

    &:hover {
      color: $color-icon-secondary-hover;
    }
  }

  &--error,
  &--error:hover {
    color: $color-red;
  }

  &--disabled,
  &--disabled:hover {
    color: $color-grey;
  }

  &--fw {
    width: 1.09rem;
    text-align: center;
  }
}

@each $name, $codepoint in $core-icon-codepoints {
  .icon-core-#{$name}::before {
    content: $codepoint;
  }
}

// The icon-fixed-color mixin implements those icons such as instructives
// which have a fixed color that's different from the primary icon color,
// and doesn't change on hover.
@mixin icon-fixed-color($fixed-color) {
  color: $fixed-color;

  &:hover {
    color: $fixed-color;
  }
}

.icon-core-alert {
  @include icon-fixed-color($color-red);
}

.icon-core-checkmark {
  @include icon-fixed-color($color-green);
}

.icon-core-expander {
  @include icon-fixed-color($color-grey);
}

.icon-core-help {
  @include icon-fixed-color($color-grey);
}

.icon-core-incomplete {
  @include icon-fixed-color($color-red);
}