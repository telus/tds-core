language: node_js
node_js: 8
os: osx
addons:
  chrome: stable
before_script:
  - npm run ci:build
  - npm run dev:e2e &
script:
  - npm-run-all --parallel test lint
  - npm run test:e2e -- --all
after_success:
  - 'if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then node ./scripts/travis/github-pr.js --github-token=${GITHUB_TOKEN} --repo=${TRAVIS_REPO_SLUG} --pull-request=${TRAVIS_PULL_REQUEST}; fi'
cache:
  directories:
    - node_modules
